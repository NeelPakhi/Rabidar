<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rabidar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>Rabidar</h2>
        <p>Hello, <span id="userName"></span>!</p>
        <h3>Dates of Vaccines</h3>
        <div id="dates-block">
            <p>Day 0: <span id="currentDate"></span></p>
            <p>Day 3: <span id="day3"></span></p>
            <p>Day 7: <span id="day7"></span></p>
            <p>Day 14: <span id="day14"></span></p>
            <p>Day 28: <span id="day28"></span></p>
        </div>
        
        <button id="addToGoogleCalendar" class="btn-save">Add to Google Calendar</button>
    </div>

    <script>

        const currentDate = new Date();
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth() + 1; // Add 1 to get 1-12
        const day = currentDate.getDate();

        const formattedDate = `${day}-${month < 10 ? '0' : ''}${month}-${year}`;
        document.getElementById('currentDate').textContent = formattedDate;

        const day3Date = new Date(currentDate);
        day3Date.setDate(currentDate.getDate() + 3);

        const day7Date = new Date(currentDate);
        day7Date.setDate(currentDate.getDate() + 7);

        const day14Date = new Date(currentDate);
        day14Date.setDate(currentDate.getDate() + 14);

        const day28Date = new Date(currentDate);
        day28Date.setDate(currentDate.getDate() + 28);


        const formattedDay3 = `${day3Date.getDate()}-${(day3Date.getMonth() + 1).toString().padStart(2, '0')}-${day3Date.getFullYear()}`;
        const formattedDay7 = `${day7Date.getDate()}-${(day7Date.getMonth() + 1).toString().padStart(2, '0')}-${day7Date.getFullYear()}`;
        const formattedDay14 = `${day14Date.getDate()}-${(day14Date.getMonth() + 1).toString().padStart(2, '0')}-${day14Date.getFullYear()}`;
        const formattedDay28 = `${day28Date.getDate()}-${(day28Date.getMonth() + 1).toString().padStart(2, '0')}-${day28Date.getFullYear()}`;

        document.getElementById('day3').textContent = formattedDay3;
        document.getElementById('day7').textContent = formattedDay7;
        document.getElementById('day14').textContent = formattedDay14;
        document.getElementById('day28').textContent = formattedDay28;


        const userName = localStorage.getItem('userName');
        if (userName) {
            document.getElementById('userName').textContent = userName;
        }

        // Function to add dates to Google Calendar
        document.getElementById('addToGoogleCalendar').addEventListener('click', function() {
            console.log('Button clicked: Add to Google Calendar');
        });

    </script>
</body>
</html>
